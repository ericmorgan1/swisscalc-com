var swisscalc=swisscalc||{};swisscalc.gui=swisscalc.gui||{},swisscalc.gui.main=function(){},swisscalc.gui.main.getVersion=function(){return"20150827.001"},swisscalc.gui.main.setTheme=function(i){switch(i){case"spring":$("link[title=theme]").attr("href","css/spring.min.css");break;case"summer":$("link[title=theme]").attr("href","css/summer.min.css");break;case"fall":$("link[title=theme]").attr("href","css/fall.min.css");break;case"winter":$("link[title=theme]").attr("href","css/winter.min.css")}},swisscalc.gui.main.saveTheme=function(i){try{localStorage.Theme=i}catch(a){}},swisscalc.gui.main.getTheme=function(i){var a=$("link[title=theme]").attr("href");switch(a){case"css/spring.min.css":return"spring";case"css/summer.min.css":return"summer";case"css/fall.min.css":return"fall";case"css/winter.min.css":return"winter"}},swisscalc.gui.main.loadTheme=function(){try{return localStorage.Theme}catch(i){return""}},swisscalc.gui.main.changeTheme=function(i){swisscalc.gui.main.setTheme(i),swisscalc.gui.main.saveTheme(i),$("#panelSettingsAll").panel("close")},swisscalc.gui.main.getWavesCss=function(){for(var i=document.querySelectorAll("link[rel='stylesheet']"),a=0;a<i.length;a++)if(i[a].href.indexOf("materialize.css")>=0)return i[a];return null},swisscalc.gui.main.isWavesDisabled=function(){var i=swisscalc.gui.main.getWavesCss(),a=i.getAttribute("disabled");return null==a&&(a=!1),a},swisscalc.gui.main.setWavesDisabled=function(i){var a=swisscalc.gui.main.getWavesCss();i?a.setAttribute("disabled","disabled"):a.removeAttribute("disabled")},swisscalc.gui.main.toggleWavesDisabled=function(){var i=swisscalc.gui.main.isWavesDisabled();swisscalc.gui.main.setWavesDisabled(!i),swisscalc.gui.main.saveWavesDisabled(!i)},swisscalc.gui.main.saveWavesDisabled=function(i){try{localStorage.IsWavesDisabled=i}catch(a){}},swisscalc.gui.main.loadWavesDisabled=function(){try{var i=localStorage.IsWavesDisabled;return"true"===i}catch(a){return""}},swisscalc.gui.main.changePage=function(i,a){$.mobile.changePage(i,{transition:a})},swisscalc.gui.main.getNeededPage=function(i,a){return i.indexOf("pageScientific")>=0?a?"#pageScientificPortrait":"#pageScientificLandscape":i.indexOf("pageTip")>=0?a?"#pageTipPortrait":"#pageTipLandscape":i.indexOf("pageLoan")>=0?a?"#pageLoanPortrait":"#pageLoanLandscape":""},$(document).ready(function(){$(document).trigger("create","#pageScientificPortrait"),$(document).trigger("create","#pageScientificLandscape"),$(document).trigger("create","#pageTipPortrait"),$(document).trigger("create","#pageTipLandscape"),$(document).trigger("create","#pageLoanPortrait"),$(document).trigger("create","#pageLoanLandscape"),$("#rngTip").slider(),$("#rngTipLS").slider()}),function(){swisscalc.gui.main.scientificCalculator=new swisscalc.gui.scientificCalculator,swisscalc.gui.main.loanCalculator=new swisscalc.gui.loanCalculator,swisscalc.gui.main.tipCalculator=new swisscalc.gui.tipCalculator,swisscalc.gui.main.scientificCalculator.init(),swisscalc.gui.main.tipCalculator.init(),swisscalc.gui.main.loanCalculator.init();var i=swisscalc.gui.main.loadTheme();""!=i&&swisscalc.gui.main.setTheme(i);var a=swisscalc.gui.main.loadWavesDisabled();swisscalc.gui.main.setWavesDisabled(a)}(),function(){$(".panelSettingsAll").panel(),$(document).off("click",".spnMenuStatic").on("click",".spnMenuStatic",function(){$(".panelSettingsAll").panel("open")}),$("#spnVersion").text("Version: "+swisscalc.gui.main.getVersion())}(),function(){$(window).off("orientationchange").on("orientationchange",function(i){if(i.orientation){var a=$.mobile.activePage?$.mobile.activePage.attr("id"):window.location.hash,e="portrait"===i.orientation,s=swisscalc.gui.main.getNeededPage(a,e);0==a.indexOf("pageLoan")&&(swisscalc.gui.main.loanCalculator._orientation=e?swisscalc.gui.loanCalculator.ORIENTATION_PORTRAIT:swisscalc.gui.loanCalculator.ORIENTATION_LANDSCAPE),$.mobile.changePage(s,{transition:"none"}),$.mobile.navigate(s,{transition:"none"})}})}(),function(){var i=window.location.hash;if(i.indexOf("#page")<0){window.location.hash="pageScientificPortrait";var a=window.innerHeight>window.innerWidth?"#pageScientificPortrait":"#pageScientificLandscape";$.mobile.navigate(a,{transition:"none"})}$(window).orientationchange()}();