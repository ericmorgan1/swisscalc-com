var swisscalc=swisscalc||{};swisscalc.calc=swisscalc.calc||{},swisscalc.calc.loanCalculator=function(t){this._termUnit="undefined"==typeof t?1:t,this._loanAmount=new swisscalc.display.numericDisplay,this._loanTerm=new swisscalc.display.fixedPointDisplay(0),this._downPayment=new swisscalc.display.numericDisplay,this._interestRate=new swisscalc.display.numericDisplay},swisscalc.calc.loanCalculator.TERM_UNIT_MONTHS=1,swisscalc.calc.loanCalculator.TERM_UNIT_YEARS=2,swisscalc.calc.loanCalculator.prototype.getTermMonths=function(){var t=this._loanTerm.getDisplayValue();return this._termUnit==swisscalc.calc.loanCalculator.TERM_UNIT_MONTHS?t:12*t},swisscalc.calc.loanCalculator.prototype.getTermYears=function(){var t=this._loanTerm.getDisplayValue();return this._termUnit==swisscalc.calc.loanCalculator.TERM_UNIT_YEARS?t:t/12},swisscalc.calc.loanCalculator.prototype.getLoanAmount=function(){return this._loanAmount.getDisplayValue()},swisscalc.calc.loanCalculator.prototype.getDownPayment=function(){return this._downPayment.getDisplayValue()},swisscalc.calc.loanCalculator.prototype.getDownPaymentPercent=function(){return this.getDownPayment()/this.getLoanAmount()*100},swisscalc.calc.loanCalculator.prototype.getInterestRateDecimal=function(){return this._interestRate.getDisplayValue()/100},swisscalc.calc.loanCalculator.prototype.getInterestRatePercentage=function(){return this._interestRate.getDisplayValue()},swisscalc.calc.loanCalculator.prototype.setTermMonths=function(t){this._loanTerm.setDisplayValue(t),this._termUnit=swisscalc.calc.loanCalculator.TERM_UNIT_MONTHS},swisscalc.calc.loanCalculator.prototype.setTermYears=function(t){this._loanTerm.setDisplayValue(t),this._termUnit=swisscalc.calc.loanCalculator.TERM_UNIT_YEARS},swisscalc.calc.loanCalculator.prototype.setLoanAmount=function(t){this._loanAmount.setDisplayValue(t)},swisscalc.calc.loanCalculator.prototype.setDownPayment=function(t){this._downPayment.setDisplayValue(t)},swisscalc.calc.loanCalculator.prototype.setDownPaymentPercent=function(t){this._downPayment.setDisplayValue(t/100*this.getLoanAmount())},swisscalc.calc.loanCalculator.prototype.setInterestRateDecimal=function(t){this._interestRate.setDisplayValue(100*t)},swisscalc.calc.loanCalculator.prototype.setInterestRatePercentage=function(t){this._interestRate.setDisplayValue(t)},swisscalc.calc.loanCalculator.prototype.getTermDisplay=function(){return this._loanTerm.getCurrentDisplay()},swisscalc.calc.loanCalculator.prototype.getLoanAmountDisplay=function(){return swisscalc.lib.format.asUSCurrency(this.getLoanAmount())},swisscalc.calc.loanCalculator.prototype.getDownPaymentDisplay=function(){return swisscalc.lib.format.asUSCurrency(this.getDownPayment())},swisscalc.calc.loanCalculator.prototype.getInterestRateDisplay=function(){return this._interestRate.getCurrentDisplay()+"%"},swisscalc.calc.loanCalculator.prototype.getMonthlyPayment=function(){var t=this.getTermMonths(),a=this.getInterestRateDecimal()/12,s=this.getLoanAmount()-this.getDownPayment();return 0===a&&0===t?s:0===t?s:0===a?s/t:a*s/(1-Math.pow(1+a,-1*t))},swisscalc.calc.loanCalculator.prototype.getTotalPayment=function(t){var a=this.getTermMonths();return t*a},swisscalc.calc.loanCalculator.prototype.getTotalInterest=function(t){var a=this.getTermMonths(),s=this.getLoanAmount()-this.getDownPayment();return 0===a?0:t*a-s},swisscalc.calc.loanCalculator.prototype.getDisplay=function(){var t=document.createElement("div");return this.addDisplay(t),t},swisscalc.calc.loanCalculator.prototype.addDisplay=function(t){var a=this.getMonthlyPayment(),s=this.getTotalPayment(a),l=this.getTotalInterest(a);a=swisscalc.lib.format.asUSCurrency(a),s=swisscalc.lib.format.asUSCurrency(s),l=swisscalc.lib.format.asUSCurrency(l),t.style.fontFamily='"Lucida Console",Monaco,monospace',t.style.whiteSpace="pre",t.innerHTML="",t.innerHTML+="  Monthly: "+a+"<br />",t.innerHTML+=" Interest: "+l+"<br />",t.innerHTML+="    Total: "+s};